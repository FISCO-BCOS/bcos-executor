/**
 *  Copyright (C) 2021 FISCO BCOS.
 *  SPDX-License-Identifier: Apache-2.0
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 *
 * @file DeployWasmPrecompiledTest.cpp
 * @author: kyonRay
 * @date 2021-07-05
 */

#include "libprecompiled/DeployWasmPrecompiled.h"
#include "PreCompiledFixture.h"
#include "fstream"
#include <bcos-framework/interfaces/storage/TableInterface.h>
#include <bcos-framework/testutils/TestPromptFixture.h>

using namespace bcos;
using namespace bcos::precompiled;
using namespace bcos::executor;
using namespace bcos::storage;
using namespace bcos::ledger;

namespace bcos::test
{
class DeployWasmPrecompiledFixture : public PrecompiledFixture
{
public:
    DeployWasmPrecompiledFixture() {}

    virtual ~DeployWasmPrecompiledFixture() {}

    DeployWasmPrecompiled::Ptr deployWasmPrecompiled;
    std::string hello_gm =
        "0061736d01000000014f0d60027f7f0060037f7f7f0060017f0060037f7f7f017f60047f7f7f7f0060027f7f01"
        "7f6000017f60057f7f7f7f7f0060000060017f017f60047f7f7f7f017f60027f7f017e60067f7f7f7f7f7f0002"
        "6b060462636f730672657665727400000462636f730a67657453746f7261676500030462636f730a7365745374"
        "6f7261676500040462636f730666696e69736800000462636f730f67657443616c6c4461746153697a65000604"
        "62636f730b67657443616c6c446174610002034b4a010001050100020000010104020404070a0b020006090106"
        "040407070001000902000b0105050003050003010c050201020200000a00000003030006080200020802010103"
        "020301000305030100110609017f01418080c0000b072604066d656d6f7279020009686173685f747970650041"
        "066465706c6f790042046d61696e00460adc724a6601017f230041106b220324000240200141004e0440027f20"
        "02450440200341086a20011007200328020c210220032802080c010b2003200141011008200328020421022003"
        "2802000b22010d010b000b2000200136020020002002360204200341106a24000b3301017f230041106b220224"
        "00200241086a200141001008200020022802083602002000200228020c360204200241106a24000b4a01017f41"
        "01210302402001450440410021010c010b20014101100921030240200204402003450d0120032001104e0c020b"
        "20030d010b410021030b20002001360204200020033602000b9c0101027f230041106b22022400024020002000"
        "41046a22034d0440200341016b220020034d0d010b000b20004102762100200241d082c00028020036020c0240"
        "200020012002410c6a104a22030d0020022000200110494100210320022802000d002002280204220320022802"
        "0c3602082002200336020c200020012002410c6a104a21030b41d082c000200228020c360200200241106a2400"
        "20030bd10101037f230041106b22032400024002400240200141004e0440200228020022040d01200320011007"
        "20032802042104200328020021020c020b20004101360200200041086a41003602000c020b2002280204220545"
        "0440200341086a200141001008200328020c2104200328020821020c010b200141011009220245044041002102"
        "0c010b200220042005104c1a20042005100b200121040b2000027f200204402000200236020441000c010b2000"
        "20013602044101210441010b360200200041086a20043602000b200341106a24000b850201037f200004402001"
        "200141046a22034d4100200341016b20034d1b450440000b41d082c0002802002103200041086b220120012802"
        "002204417e71360200024002402004417c71220220006b20024d044020004100360200200041046b280200417c"
        "712202450d0120022d00004101710d012001104b2002280200210020012d000041027104402002200041027222"
        "003602000b200321012000417c71220020026b41086b20004d0d020b000b02402004417c712202450d00410020"
        "0220044102711b2202450d0020022d00004101710d0020002002280208417c7136020020022001410172360208"
        "200321010c010b200020033602000b41d082c00020013602000b0b2601017f0240200028020041002000280204"
        "22001b2201450d002000450d0020012000100b0b0b6f00024002400240200141054f0440200141056b0e020102"
        "030b20004204370200200041086a20013602000f0b20004205370200200041086a41053602000f0b2000428580"
        "808010370200200041086a41003602000f0b2000428680808010370200200041086a200141076b3602000ba701"
        "01037f230041206b220224000240200120002802042203200028020822046b4b0440200120046a22012004490d"
        "01200320036a22042003490d012004200120012004491b22014108200141084b1b210102402003044020024118"
        "6a410136020020022003360214200220002802003602100c010b200241003602100b20022001200241106a100a"
        "20022802004101460d01200020022902043702000b200241206a24000f0b000b3301017f20002002100e200028"
        "0208220320002802006a20012002104c1a2003200220036a22014b0440000b200020013602080b4701027f2300"
        "41106b22032400200341086a200241001006200328020821042000200328020c36020420002004360200200420"
        "012002104c1a20002002360208200341106a24000b150020012003460440200020022001104c1a0f0b000bc601"
        "01047f024020000d0020000d00024002402000450d002000450d000c010b410021000b0340024041002000047f"
        "20000d0141000541000b22006b22020d022002450d02200041d082c0006a22002c00002203417f4a0d02200020"
        "026a220421012002410147044020002d00011a200041026a21010b200341ff017141e001490d02200422002001"
        "47047f200141016a210020012d00000541000b1a200341ff017141f001490d022000200447044020002d00001a"
        "0b0c020b200041016b21000c000b000b000bec0101067f41012107410121040340024002400240200422062005"
        "6a22042006490d00200220044d0d01200520086a22092008490d00200220094d0d0002400240200120046a2d00"
        "002204200120096a2d000022094b2003710d00200420094f200372450d0020042009460d01200641016a220420"
        "06490d024101210741002105200621080c050b200541016a22042005490d01200420066a22042006490d012004"
        "20086b220720044b0d010c030b2005200541016a22054b0d002006210420052007470d032004200420076a2204"
        "4d0d020b000b20002007360204200020083602000f0b410021050c000b000b3701017f230041106b2204240020"
        "0441086a41002003200120021015200020042802083602002000200428020c360204200441106a24000b360002"
        "40200120024d0440200220044d04402002200220016b2204490d02200020043602042000200120036a3602000f"
        "0b000b000b000ba00201077f4101210941012104034002400240024002402004220720056a22042007490d0020"
        "0120044d0d03200741016a22042007490d00200420056a22082004490d00200120086b220820014b0d00200120"
        "084d0d00200a41016a2206200a490d002006200520066a22064b0d00200120066b220620014b0d00200120064d"
        "0d0002400240200020086a2d00002208200020066a2d000022064b2003710d00200620084d200372450d002006"
        "2008460d0141012109410021052007210a0c040b200541016a22042005490d01200420076a22042007490d0120"
        "04200a6b220920044b0d010c020b2005200541016a22054b0d0020052009470440200721040c030b200720096a"
        "220420074f0d010b000b410021050b20022009470d010b0b200a0b2b01017e034020010440200141016b210142"
        "012000310000862002842102200041016a21000c010b0b20020b5e01047f230041206b22012400200041086a22"
        "02280200210320002802042104200141186a200228020036020020012000290200370310200141086a20014110"
        "6a1019200128020c220020033b01e00120002004360200200141206a24000b3901027f2001280200220241016b"
        "220320024d0440200020033602002000200128020420012802084102746a41e4016a2802003602040f0b000b21"
        "01017f419402101b2200450440000b200041003b01e2012000410036020020000b08002000410410090bb30101"
        "047f230041206b2203240020012f01e2012104200341003a001820032004360214200341003602102003200341"
        "106a2204290200370200200341086a200441086a28020036020020032d00082106200328020421052003280200"
        "21040340024020060d00200420054b0d00200320013602142003200236021020032004360218200420054f2106"
        "200420042005496a2104200341106a10180c010b0b2000200136020420002002360200200341206a24000b2101"
        "017f41e401101b2200450440000b200041003b01e2012000410036020020000b6c01037f230041106b22042400"
        "20002802082105200028020422002f01e2012106200441086a200141086a280200360200200420012902003703"
        "00200041046a200641016a220120052004101f20004188016a20012005200220031020200020013b01e2012004"
        "41106a24000b6e01017f0240200241016a22042002490d00200120044b04402001200120026b2201490d012001"
        "200141016b2201490d0120002004410c6c6a20002002410c6c6a2001410c6c104d0b20002002410c6c6a220020"
        "03290200370200200041086a200341086a2802003602000f0b000b6201017f0240200241016a22052002490d00"
        "200120054b04402001200120026b2201490d012001200141016b2201490d01200020054103746a200020024103"
        "746a2001410374104d0b200020024103746a220020043a0004200020033602000f0b000b9c0201057f23004110"
        "6b2206240020002802082105200028020422072f01e2012108200641086a200141086a28020036020020062001"
        "290200370300200741046a200841016a220920052006101f20074188016a200920052002200310200240200541"
        "016a22012005490d00200141016a22032001490d00200841026a220220034b0440200220016b220520024b0d01"
        "2005200541016b2205490d01200741e4016a220820034102746a200820014102746a2005410274104d0b200720"
        "014102746a41e4016a2004360200200720093b01e20120012002200120024b1b21022000280200210003402001"
        "2002470440200620073602042006200036020020062001360208200141016a2101200610180c010b0b20064110"
        "6a24000f0b000b5101037f0240200128020022022001280204460440410021020c010b20012002410c6a360200"
        "2001280208220341016a220420034f0440200120043602080c010b000b20002002360204200020033602000b58"
        "01027f02400240200228020022030440200141016a22042001490d022000200336020420002004360200200020"
        "022f01e0013602080c010b200041003602040b41940241e40120011b2200044020022000100b0b0f0b000b2601"
        "017f230041106b22022400200220003a000f20012002410f6a4101100f200241106a24000b2c00200010262000"
        "41106a22002d00044102460440000b2000280200220041046a410020002802004101461b0bba0102057f017e23"
        "0041106b22012400200141086a2000410c6a220210270240200128020c2203280200220441016b220520044e0d"
        "0020012802082d0004200320053602004102460440200028020020002802081028210620022200280200044000"
        "0b2000417f360200200120003602042001200041046a3602002001280204210020012802002006a7417f734101"
        "712006422088a710292000280200220241016a22032002480d01200020033602000b200141106a24000f0b000b"
        "2d01017f200128020041016a220241004c0440000b20012002360200200020013602042000200141046a360200"
        "0bce0102037f017e230041306b22022400200241206a2103024041d482c0002802002204418080014d04402003"
        "2004360204200341d882c0003602000c010b000b0240027e42810620002001200228022010012200450d001a20"
        "00418180014f0d0141d482c0002000360200200241186a20001038200241106a21012002280218210320002002"
        "28021c4b0440000b200120003602042001200336020020022002290310370328200241086a200241286a103920"
        "02280208410047ad200235020c422086840b200241306a24000f0b000b370020002d0004410246044020012002"
        "102a2101200041003a0004200020013602000f0b200028020022002002360204200020013602000b2101017f41"
        "08410410092202450440000b200220013602042002200036020020020b3201017f230041106b22022400200220"
        "01102c200041186a20022802002002280208102d2002100c200241106a24004100470bb70102037f017e230041"
        "106b22032400024002402001280208220241046a220420024f0440200128020021012003200441001006200329"
        "0300210520004100360208200020053702002002413f4d044020002002410274103b0c030b200241ffff004d04"
        "40200320024102744101723b010e20002003410e6a4102100f0c030b200241ffffffff034b0d01200241027441"
        "02722000103c0c020b000b20004103103b20022000103c0b200020012002100f200341106a24000b5501017f20"
        "00200120021030220304402003280200220041046a410020002802004101461b0f0b2000200120021031200020"
        "0120021030220045044041000f0b2000280200220041046a410020002802004101461b0b2f01017f230041106b"
        "2202240020022001102c200041186a20022802002002280208102d2002100c200241106a24000bbc0201067f23"
        "0041106b22062400200010252203450440000b02402003280200417f460d0020062001102c0240200041186a22"
        "032006280200220420062802082207103022020440200241013a00042002280200220528020021022005410036"
        "02000c010b200320042007103120032004200710302202450440410021020c010b200241013a00042002280200"
        "22052802002102200541003602000b02402003200420071030220504402005280200428180808080fd00370200"
        "200541013a00040c010b200320042007410141e807410110320b2002410147044020001026200041146a2d0000"
        "4102460d01200041013a0014200041106a280200220041046a410020002802004101461b2200450440000b2000"
        "280200220341016a22042003490d01200020043602000b2006100c2001100c200641106a24000f0b000be70101"
        "057f230041206b22032400027f02402000411c6a2802002204450d00200041186a2802002106034020042f01e2"
        "012100200341003602182003200441046a2205360210200320052000410c6c6a36021402400240034020034108"
        "6a200341106a1022200328020c2207450d012003280208210502402001200220072802002007280208103a4118"
        "744118750e020301000b0b200521000b2006450d02200320003602182003200436021420032006360210200320"
        "0341106a101920032802042104200328020021060c010b0b200420054103746a4188016a0c010b41000b200341"
        "206a24000ba40202047f017e230041206b22042400200441186a210320002802000440000b2000417f36020020"
        "0320003602042003200041046a360200200428021c2103200428021820012002100f0240200328020022054101"
        "6a22062005480d0020032006360200200441106a20001027200428021421032004280210220528020020052802"
        "08102821072003280200220541016b220620054e0d0020032006360200200441086a210320002802000440000b"
        "2000417f360200200320003602042003200041046a360200200428020c21032000280210220520042802082206"
        "2802084d0440200620053602080b2003280200220541016a22062005480d002003200636020020002001200220"
        "07a7417f734101712007422088a741001032200441206a24000f0b000bdb0d020f7f027e23004180016b220624"
        "0020032004102a210b0240024002400240024020002802144504402000417f360214200641c8006a2002410010"
        "06200628024c210d200628024820012002104c2109200620023602682006200d36026420062009360260024020"
        "00411c6a28020022030440200028021821070c010b2000101d220336021c200041003602180b0240034020032f"
        "01e2012101200641003602782006200341046a2204360270200620042001410c6c6a3602740240034020064140"
        "6b200641f0006a10222006280244220a450d0120062802402104024020092002200a280200200a280208103a41"
        "18744118750e020401000b0b200421010b20070440200620013602782006200336027420062007360270200641"
        "386a200641f0006a1019200628023c2103200628023821070c010b0b2006410036025020062003ad2001ad4220"
        "8684370254024020032f01e201410b4f0440200641f0006a2001100d200641f8006a2802002111200628027421"
        "1220062802702104101d210a20032f01e201220c20046b2201200c4b0d082001200141016b2201490d08200a20"
        "013b01e201200441016a22072004490d08200c200c20076b220e490d08200320044103746a220f4188016a2802"
        "00210c200f418c016a2d000020032004410c6c6a220841046a280200210f200841086a2902002115200641306a"
        "2108200a41046a21102001410c4f0440000b2008200136020420082010360200200e2006280234470d08200628"
        "023020032007410c6c6a41046a200e410c6c104c1a200641286a2108200a4188016a21102001410c4f0440000b"
        "2008200136020420082010360200200e200628022c470d082006280228200320074103746a4188016a200e4103"
        "74104c1a200320043b01e201200620113602682006200a200320121b3602644100210120064100360260200620"
        "023602782006200d36027420062009360270200641e0006a200641f0006a200b2005101e410171210741002102"
        "034020032802002204450d022001200141016a22014b0d09200620032f01e00122033602582006200436025420"
        "062001360250200141016b2002470d092007410171210d20042f01e201410b490d06200641f0006a2003100d20"
        "062802782111200628027421122006280270210320042f01e201101a210520042f01e201220920036b22022009"
        "4b0d092002200241016b2202490d09200520023b01e201200341016a22072003490d092009200920076b220b49"
        "0d0920042003410c6c6a220941086a2902002116200941046a2802002109200420034103746a22084188016a28"
        "0200210e2008418c016a2d00002110200641206a2108200541046a21142002410c4f0440000b20082002360204"
        "20082014360200200b2006280224470d09200628022020042007410c6c6a41046a200b410c6c104c1a20064118"
        "6a210820054188016a21142002410c4f0440000b2008200236020420082014360200200b200628021c470d0920"
        "06280218200420074103746a4188016a200b410374104c1a200420033b01e20141016a220320076b220220034b"
        "0d0920052f01e201220341016a210b2003410c4f0d052002200b470d09200541e4016a200420074102746a41e4"
        "016a2002410274104c1a200641106a20052001101c200628021421052006280210210220012103201041017121"
        "072006201136026820062012047f2002210320050520040b36026420062003360260200620153702742006200f"
        "360270200641e0006a200641f0006a200c200d200a10212009210f201621152005210a200e210c200421030c00"
        "0b000b200620023602782006200d36027420062009360270200641d0006a200641f0006a200b2005101e0c050b"
        "2000411c6a2802002203450d0620002802182101101a220420033602e4012001200141016a22034b0d06200641"
        "086a20042003101c200628020821032000200628020c220136021c20002003360218200341016b220420034b0d"
        "0620022004470d0620012f01e2012202410a4b0d062001200241016a22043b01e20120012002410c6c6a220541"
        "086a2015370200200541046a200f360200200120024103746a2202418c016a20074101713a000020024188016a"
        "200c360200200120044102746a41e4016a200a3602002006200436027820062001360274200620033602702006"
        "41f0006a10180c040b200641e0006a100c200320044103746a2201418c016a20053a000020014188016a220128"
        "02002001200b3602004108100b0c040b000b000b200620153702742006200f360270200641d0006a200641f000"
        "6a200c200d200a10210b200041206a2201280200220241016a22032002490d01200120033602000b2000280214"
        "220141016a22022001480d002000200236021420064180016a24000f0b000b9a0101037f230041106b22022400"
        "20022001102c027f200041186a22002002280200220120022802082203103022040440200441013a0004200428"
        "0200220041046a410020002802004101461b0c010b2000200120031031410020002001200310302200450d001a"
        "200041013a00042000280200220041046a410020002802004101461b0b21002002100c2000450440000b200241"
        "106a240020000ba80901087f23004180016b22012400200141c8006a2000410c6a22021027200128024c220328"
        "0200220541016b220420054e21050240024020012802482d00042206410247044020050d022003200436020020"
        "06450d01200141406b210420022802000440000b2002417f360200200420023602042004200241046a36020020"
        "012802442104200128024022032d00044102460440000b2003280200220341046a410020032802004101461b22"
        "03044020002802002000280208200310350b2004280200220341016a22052003480d0220042005360200200141"
        "386a210420022802000440000b2002417f360200200420023602042004200241046a360200200128023c210220"
        "0128023822042d00044102470440200441003a00040b2002280200220341016a22042003480d02200220043602"
        "000c010b20050d01200320043602000b4100210502402000412c6a28020041016a220241004a04402000200236"
        "022c200041346a280200220345044041002103410021020c020b20032105200041306a28020022022104034020"
        "032f01e2012106200445044020020d04200041386a28020021020c030b2002450d032001410036025820012005"
        "36025420012004360250200141306a200141d0006a101920012802342105200128023021042001200636025820"
        "01200336025420012002360250200141286a200141d0006a1019200128022c2103200128022821020c000b000b"
        "000b200041186a2108200141e4006a2006360200200141e0006a20033602002001420037035820012005360254"
        "2001200436025003400240200204402001200241016b360268200141d0006a410020012802541b220728020021"
        "03200728020821052007280204210203400240200520022f01e201490d0020022802002204450d002003200341"
        "016a22034b0d0520022f01e0012105200421020c010b0b200541016a21062003450440200221040c020b200120"
        "063602782001200236027420012003360270200141206a200141f0006a10192001280224210420012802202103"
        "03402003450440410021060c030b200141003602782001200436027420012003360270200141186a200141f000"
        "6a1019200128021c2104200128021821030c000b000b200028022c220241016b220420024e0d02200020043602"
        "2c20014180016a24000f0b2007200436020420074100360200200720063602080240200220054103746a220441"
        "8c016a2d0000450d0020044188016a28020022062802004101470d00200141106a210320082204280200044000"
        "0b2004417f360200200320043602042003200441046a36020020012802142103200128021020022005410c6c6a"
        "220241046a2802002002410c6a280200100f2003280200220241016a22052002480d0220032005360200200141"
        "086a20041027200128020c2102200128020822032802002003280208200641046a10352002280200220341016b"
        "220520034e0d022002200536020020042802000440000b2008417f360200200120083602042001200841046a36"
        "02002001280204210220002802282204200128020022032802084d0440200320043602080b2002280200220441"
        "016a22032004480d02200220033602000b200128026821020c000b000b000b8a0101027f230041206b22032400"
        "41d482c00041003602002003200228020036021c200341106a22024104360204200241d882c000360200200328"
        "021020032802142003411c6a4104101141d482c000280200220441046a22022004490440000b41d482c0002002"
        "360200200341086a20021038200020012003280208200328020c1002200341206a24000b2d01017f230041106b"
        "220124002000450440200141d082c00041001010200110372001100c0b200141106a24000b2a01017f23004110"
        "6b2201240020012000102c2001280200200128020810002001100c200141106a24000b4b01027f230041106b22"
        "022400200241086a21032001418080014b0440000b20032001360204200341d882c00036020020002002280208"
        "3602002000200228020c360204200241106a24000b4801027f230041106b220224002002410036020c02402001"
        "2002410c6a4104103e450440200228020c21010c010b410121030b200020013602042000200336020020024110"
        "6a24000b30002000200220032001200120034b1b104f2200450440417f200120034720012003491b0f0b417f41"
        "0120004100481b0b2601017f230041106b22022400200220013a000f20002002410f6a4101100f200241106a24"
        "000b2601017f230041106b220224002002200036020c20012002410c6a4104100f200241106a24000bfc08020a"
        "7f017e230041206b22032400200341003a00080240027f02400240027f0240024002402001200341086a410110"
        "3e0d00024020032d0008220641037122024103470440024002400240200241016b0e020201000b200641027621"
        "020c030b200320063a000d200341013a000c200320013602082003410036021c200341086a2003411c6a410410"
        "3f0d03200328021c220241ffff034d0d03200241027621020c020b200320063a000d200341013a000c20032001"
        "360208200341003b011c200341086a2003411c6a4102103f0d0220032f011c220241ff014d0d02200241027621"
        "020c010b200641044f0d0120032001103920032802000d012003280204220241ffffffff034d0d010b20012802"
        "042002490d00200341086a200210402001200328020822042003280210103e0440200341086a100c0c010b4100"
        "200329020c220c422088a7220541076b2201200120054b1b2106200441036a417c7120046b210b410021010340"
        "200120054f04402005210620040c080b024002400240200120046a2d00002209411874411875220a41004e0440"
        "200b417f460d03200b20016b4103710d030340200120064f0d03200120046a220241046a280200200228020072"
        "418081828478710d032001200141086a22014d0d000b0c010b4180022107410121080240024002400240024020"
        "09418080406b2d000041026b0e030002010e0b200141016a22022005490d02410021070c0c0b41002107200141"
        "016a220220054f0d0b200220046a2d000021020240024002400240200941f0016b0e050100000002000b200241"
        "bf014b0d0c200a410f6a41ff017141024b0d0c200241187441187541004e0d0c0c020b200241f0006a41ff0171"
        "41304f0d0b0c010b2002411874411875417f4a0d0a2002418f014b0d0a0b200141026a220220054f0d0b200220"
        "046a2d000041c00171418001470d0841002108200141036a220220054f0d0c200220046a2d000041c001714180"
        "01460d024180060c0a0b41002107200141016a220220054f0d0a200220046a2d00002102024002400240200941"
        "e001470440200941ed01460d01200a411f6a41ff0171410c490d02200241bf014b0d0c200a41fe017141ee0147"
        "0d0c200241187441187541004e0d0c0c030b200241e0017141a001470d0b0c020b2002411874411875417f4a0d"
        "0a200241a0014f0d0a0c010b2002411874411875417f4a0d09200241bf014b0d090b41002108200141026a2202"
        "20054f0d0b200220046a2d000041c00171418001470d070c010b200220046a2d000041c00171418001470d0a0b"
        "200241016a21010c030b000b20012005200120054b1b2102034020012002460440200221010c030b200120046a"
        "2c00004100480d02200141016a21010c000b000b200141016a21010c000b000b200041003602000c060b418004"
        "0c010b4180020b2107410121080c010b410021080b2007200872210620010b2102200120054f04402000200c37"
        "0204200020043602000c010b200341186a2006360200200320023602142003200c37020c200320043602082003"
        "41086a100c200041003602000b200341206a24000b3901027f2000280204220320024922044504402001200220"
        "002802002201200210112000200320026b3602042000200120026a3602000b20040b4201017f20002f01042103"
        "200041003a00042003410171450440200028020020012002103e0f0b200120034108763a000020002802002001"
        "41016a200241016b103e0b3602017f017e230041106b22022400200241086a2001410110062002290308210320"
        "00200136020820002003370200200241106a24000b040041010bae0301057f23004190016b2200240020004118"
        "6a1043200041d8006a410010440240024020002d0058450440200041f8006a200041e4006a2802003602002000"
        "200029025c370370200041186a1025450440200041106a2103200041246a220222012802000440000b2001417f"
        "360200200320013602042003200141046a36020020002802142101200028021041014100102920012802002203"
        "41016a22042003480d0320012004360200200041086a210120022802000440000b2002417f3602002001200236"
        "02042001200241046a360200200028020c2102200028020822012d00044102470440200141013a00040b200228"
        "0200220141016a22032001480d03200220033602000b20004180016a418782c00041051010200041186a200041"
        "80016a102f20004180016a418c82c00041031010200041186a20004180016a102f200041186a1034200041f000"
        "6a100c0c010b20004180016a41b982c0004114101020004180016a103720004180016a100c0b200041186a100c"
        "2000412c6a2d00004102470440200041286a2802004108100b0b200041346a100c200041c8006a104520004190"
        "016a24000f0b000b9a0202037f017e230041306b22012400200141086a410741001006200128020c2103200128"
        "02082202418082c000280000360000200241036a418382c000280000360000200041146a41023a000020004207"
        "370208200020033602042000200236020020014108410010062001410036022820012001290300370320200141"
        "206a418082c0004107100f200128022822022001280224460440200141206a4101100e200128022821020b2001"
        "28022020026a41243a00002002200241016a22034b0440000b200141186a200336020020012001290320220437"
        "0310200041003602182000411c6a2004370200200041246a2003360200200041286a4108360200200041346a42"
        "003702002000412c6a4100360200200141306a24000b990202027f017e230041306b2202240002400240100422"
        "0341034b0d002001450d0020004181083b01000c010b2002200310402002280200220310052000027f02402001"
        "044020022002280208220136021420022003360210024020014104490d002002410036021c200241106a200241"
        "1c6a4104103e0d00200241206a20022802141040200241106a200228022022012002280228103e450d02200241"
        "206a100c0b200041003a000141010c020b200041003a0000200041046a2002290300370200200041106a410036"
        "02002000410c6a200241086a2802003602000c020b20022902242104200041106a200228021c36020020004108"
        "6a2004370200200041046a200136020041000b3a00002002100c0b200241306a24000b9b0301067f230041306b"
        "22012400200028020421032000410036020402402003450d002000280200210203402002044020014100360228"
        "2001200336022420012002360220200141186a200141206a1019200128021c2103200128021821020c010b0b20"
        "00280208210603402006450440410021020340200141206a20022003102320012802242203450d032001280220"
        "21020c000b000b200641016b210641002104200521002003210203400240024020022f01e20120004b04402000"
        "41016a21052004450440200221030c020b200120053602282001200236022420012004360220200141106a2001"
        "41206a1019200128021421032001280210210403402004450440410021050c030b200141003602282001200336"
        "022420012004360220200141086a200141206a1019200128020c2103200128020821040c000b000b200141206a"
        "200420021023200128022422030d01410021030b20022000410c6c6a41046a100c200220004103746a4188016a"
        "2802004108100b0c020b2001280228210020012802202104200321020c000b000b000b200141306a24000ba00e"
        "02087f027e230041c0026b22002400200041406b1043200041f0016a41011044024002400240027f0240024002"
        "4020002d00f001410147044020004188016a200041fc016a2802002201360200200020002902f4012208370380"
        "01200020004180026a2802003602a401200041b0016a2001360200200020083703a801024002400240200041a4"
        "016a280000418f82c000280000470440200041a4016a280000419382c000280000460d01200041a4016a280000"
        "419782c000280000460d02200041a8016a100c200041406b1047419b82c0002102411021010c0a0b2000200028"
        "02b0013602bc01200020002802a8013602b801200041f0016a200041b8016a103d20002802f001450d06200041"
        "98016a200041f8016a2201280200360200200020002903f00137039001200041f0016a200041b8016a103d0240"
        "20002802f0010440200041e8016a2001280200360200200020002903f0013703e0012000200041b8016a103920"
        "00280200450d01200041e0016a100c0b20004190016a100c0c070b20002802042101200041b8026a2202200041"
        "e8016a280200360200200020002903e0013703b0022000280290012203450d062000290294012108200041c801"
        "6a20022802002202360200200020002903b00222093703c00120004184026a2002360200200020083702f40120"
        "0020033602f001200020093702fc012000200136028802200041406b200041f0016a102b0440200041406b2000"
        "41f0016a102e2202450440000b200228020020014f21040b200041fc016a210220041036200041406b2002102b"
        "1036200041406b200041f0016a10332203280200220520016b220420054b0d0420032004360200200120004140"
        "6b20021033220328020022056a22012005490d0420032001360200200041f0016a100c2002100c200041406b10"
        "340c020b200020002802b0013602d401200020002802a8013602d00120004190016a200041d0016a103d200028"
        "029001450d05200041b8026a20004198016a2802002201360200200020002903900122083703b002200041f801"
        "6a2001360200200020083703f001200041406b200041f0016a102e22010440200128020021020b200041f0016a"
        "100c200041086a410041001006200041003602f801200020002903083703f0012001410047200041f0016a1024"
        "2002200041f0016a103c20002802f00120002802f8011003200041f0016a100c0c010b200020002802b0013602"
        "d401200020002802a8013602d00120004190016a200041d0016a103d200028029001450d04200041b8026a2000"
        "4198016a22012802002203360200200020002903900122083703b0022001200336020020002008370390012008"
        "a72105027f20030440200041386a2005200341001013200028023c20002802382101200041306a200520034101"
        "10132000280234200041286a20052003200120002802302202200120024b22011b2202101420011b220420026a"
        "22062004490d04200028022c210120002802282107200041206a20042006200520031015027f20002802202106"
        "2000280224200146047f200720062001104f450541000b450440200320026b220120034b0d0620022001200120"
        "02491b220141016a22042001490d06417f2106200520031017210820022101417f0c010b410021062003200520"
        "032004410010162201200520032004410110162207200120074b1b6b220120034b0d05200041186a2005200320"
        "0410142000280218200028021c1017210820030b2107200041ac026a2003360200200041a4026a410036020020"
        "004198026a200736020020004194026a20063602002000418c026a420037020020004188026a20043602002000"
        "4184026a200136020020004180026a2002360200200041f8016a2008370300200020053602a802200041d082c0"
        "003602a002200041013602f0012008422088a7210120030c010b200041ac026a4100360200200041a4026a4100"
        "360200200041fc016a4181023b0100200041f8016a4100360200200020053602a802200041d082c0003602a002"
        "200042003703f0014101210141000b2102024020030440200041f8016a210120004194026a280200417f470440"
        "200041e0016a2001200210480c020b200041e0016a2001200210480c010b20002802f40122020d04200141ff01"
        "710440200041e8016a2002360200200020023602e401200041013602e0010c010b200041003602e0010b200028"
        "02e00120004190016a100c200041106a410141001006200041003602f801200020002903103703f001200041f0"
        "016a102420002802f00120002802f8011003200041f0016a100c0b41030c040b200041406b10470c040b000b20"
        "021012000b41010b2103200041a8016a100c200041406b1047419b82c0002102411021010240200341016b0e03"
        "000103020b41ab82c0002102410e21010c010b41b982c0002102411421010b200041f0016a2002200110102000"
        "41f0016a1037200041f0016a100c0b200041c0026a24000b2e002000100c200041146a2d000041024704402000"
        "41106a2802004108100b0b2000411c6a100c200041306a10450b4801017f024002402002200241016b2202490d"
        "0020012802081a20012802101a20012903001a20012802142203200220036a4b0d00200141003602140c010b00"
        "0b200041003602000bd20101017f0240200141ffffffff03712001470d002002200241406b22034b0d00200341"
        "ffffffff01712003470d002001410274220120034103742202200120024b1b220241086a22012002490d00027f"
        "024020012001418080046a22024d0440200241016b220120024d0d010b000b2001411076220240002201417f46"
        "04404100210141010c010b200141ffff03712001470d012002411074220241086b20024b0d0120014110742201"
        "42003702042001200120026a41027236020041000b210220002001360204200020023602000f0b000baf04010a"
        "7f20004102742106410020016b2108200041ffffffff03712000472109200141016b220a20014b210b20022802"
        "002100024003402000450d01200021010240034002402001280208220041017145044020090d03200128020041"
        "7c712203200141086a22056b220420034b0d0320042006490d01200320066b220c20034b0d03200b0d03200541"
        "086a22042005490d032004200441406b22044b0d03024020042008200c7122044b04402005200a710d03200220"
        "00417c7136020020012001280200410172360200200121000c010b200441086b220020044b0d04200320006b22"
        "0220034b0d04200241086b20024b0d04200041003602082000420037020020002001280200417c713602000240"
        "20012802002202417c712203450d004100200320024102711b2202450d00200220022802044103712000723602"
        "040b2000200028020441037120017236020420012001280208417e713602082001200128020022024103712000"
        "72220336020002402002410271450440200028020021010c010b20012003417d71360200200020002802004102"
        "7222013602000b200020014101723602000b200041086a21070c050b20012000417e71360208027f4100200128"
        "0204417c712200450d001a4100200020002d00004101711b0b21002001104b20012d0000410271044020002000"
        "2802004102723602000b200220003602002000280200417c71220120006b41086b20014b0d02200021010c010b"
        "0b200220003602000c010b0b000b20070b7d01027f024020002802002201417c712202450d0041002002200141"
        "02711b2201450d00200120012802044103712000280204417c71723602040b200020002802042201417c712202"
        "047f200220022802004103712000280200417c717236020020002802040520010b410371360204200020002802"
        "004103713602000b2b01017f03402002200346450440200020036a200120036a2d00003a0000200341016a2103"
        "0c010b0b20000b6a0002402002200020016b4d044003402002450d02200020012d00003a0000200241016b2102"
        "200141016a2101200041016a21000c000b000b200141016b2101200041016b210003402002450d01200020026a"
        "200120026a2d00003a0000200241016b21020c000b000b0b2201017f034020012002470440200020026a41003a"
        "0000200241016a21020c010b0b0b3f01027f0340200245044041000f0b200241016b210220012d000021032000"
        "2d00002104200041016a2100200141016a210120032004460d000b200420036b0b0b9a020300418080c0000b80"
        "010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101"
        "010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101"
        "0101010101010101010101010101010101010101010101010101010101010101010101010101010041c281c000"
        "0b3302020202020202020202020202020202020202020202020202020202020203030303030303030303030303"
        "030303040404040400418082c0000b4d6d617070696e67616c696365626f624bf93febda3acd86c6ac4235756e"
        "6b6e6f776e2073656c6563746f72696e76616c696420706172616d73636f756c64206e6f74207265616420696e"
        "70757400e902046e616d6501e10250000966696d706f72742430010966696d706f72742431020966696d706f72"
        "742432030966696d706f72742433040966696d706f72742434050966696d706f72742435060130070131080132"
        "0901330a01340b01350c01360d01370e01380f0139100231301102313112023134130231371402313815023139"
        "160232321702323318023234190232351a0232361b0232371c0232381d0232391e0233341f0233352002333621"
        "02333722023338230233392402343025023431260234322702343428023435290234372a0234382b0234392c02"
        "35302d0235312e0235322f02353330023535310235363202353733023539340236303502363136023634370236"
        "3538023637390236393a0237303b0237313c0237323d0237333e0237343f023735400237364102373742023738"
        "430237394402383045023831460238324702383448023835490238394a0239304b0239314c0239334d0239344e"
        "0239354f023936";

   std::string hello =
       "0061736d0100000001460c60027f7f0060017f0060037f7f7f0060037f7f7f017f60047f7f7f7f006000006000017f60057f7f7f7f7f0060017f017f60027f7f017f60047f7f7f7f017f60027f7f017e026b060462636f730a73657453746f7261676500040462636f730a67657453746f7261676500030462636f730666696e69736800000462636f730672657665727400000462636f730f67657443616c6c4461746153697a6500060462636f730b67657443616c6c44617461000103302f01010002010200020902020204010404070a0b0100010001000801020000060500010500000303000002030102000305030100110609017f01418080c0000b072604066d656d6f7279020009686173685f747970650024066465706c6f790025046d61696e00280acb432f3301017f20001007200041146a2d0000410247044020002802102201280200047f2001100720002802100520010b410c10080b0b2601017f024020002802004100200028020422001b2201450d002000450d002001200010080b0b850201037f200004402001200141046a22034d4100200341016b20034d1b450440000b41b482c0002802002103200041086b220120012802002204417e71360200024002402004417c71220220006b20024d044020004100360200200041046b280200417c712202450d0120022d00004101710d01200110312002280200210020012d000041027104402002200041027222003602000b200321012000417c71220020026b41086b20004d0d020b000b02402004417c712202450d004100200220044102711b2202450d0020022d00004101710d0020002002280208417c7136020020022001410172360208200321010c010b200020033602000b41b482c00020013602000b0b4801017f024002402002200241016b2202490d0020012802081a20012802101a20012903001a20012802142203200220036a4b0d00200141003602140c010b000b200041003602000b5701037f230041106b22012400200141086a41044100100b20012802082102200128020c2103200041146a41023a0000200042043702082000200336020420002002360200200241eec2b5ab06360000200141106a24000b6601017f230041106b220324000240200141004e0440027f2002450440200341086a2001100c200328020c210220032802080c010b200320014101100d2003280204210220032802000b22010d010b000b2000200136020020002002360204200341106a24000b3301017f230041106b22022400200241086a20014100100d200020022802083602002000200228020c360204200241106a24000b4a01017f4101210302402001450440410021010c010b20014101100e21030240200204402003450d012003200110330c020b20030d010b410021030b20002001360204200020033602000b9c0101027f230041106b2202240002402000200041046a22034d0440200341016b220020034d0d010b000b20004102762100200241b482c00028020036020c0240200020012002410c6a103022030d00200220002001102f4100210320022802000d0020022802042203200228020c3602082002200336020c200020012002410c6a103021030b41b482c000200228020c360200200241106a240020030bd00101037f230041106b22032400024002400240200141004e0440200228020022040d0120032001100c20032802042104200328020021020c020b20004101360200200041086a41003602000c020b20022802042205450440200341086a20014100100d200328020c2104200328020821020c010b20014101100e2202450440410021020c010b2002200420051032200420051008200121040b2000027f200204402000200236020441000c010b200020013602044101210441010b360200200041086a20043602000b200341106a24000bd60101067f230041206b22032400024002400240200220002802042205200028020822066b4d0440200220066a220720064921080c010b200220066a220720064922080d01200520056a22042005490d0120042007200420074b1b22044108200441084b1b2104024020050440200341186a410136020020032005360214200320002802003602100c010b200341003602100b20032004200341106a100f20032802004101460d01200020032902043702000b200028020020066a2001200210322008450d010b000b20002007360208200341206a24000b4601027f230041106b22032400200341086a20024100100b200328020821042000200328020c36020420002004360200200420012002103220002002360208200341106a24000b14002001200346044020002002200110320f0b000bc60101047f024020000d0020000d00024002402000450d002000450d000c010b410021000b0340024041002000047f20000d0141000541000b22006b22020d022002450d02200041b482c0006a22002c00002203417f4a0d02200020026a220421012002410147044020002d00011a200041026a21010b200341ff017141e001490d0220042200200147047f200141016a210020012d00000541000b1a200341ff017141f001490d022000200447044020002d00001a0b0c020b200041016b21000c000b000b000bec0101067f410121074101210403400240024002402004220620056a22042006490d00200220044d0d01200520086a22092008490d00200220094d0d0002400240200120046a2d00002204200120096a2d000022094b2003710d00200420094f200372450d0020042009460d01200641016a22042006490d024101210741002105200621080c050b200541016a22042005490d01200420066a22042006490d01200420086b220720044b0d010c030b2005200541016a22054b0d002006210420052007470d032004200420076a22044d0d020b000b20002007360204200020083602000f0b410021050c000b000b3701017f230041106b22042400200441086a41002003200120021016200020042802083602002000200428020c360204200441106a24000b36000240200120024d0440200220044d04402002200220016b2204490d02200020043602042000200120036a3602000f0b000b000b000ba00201077f4101210941012104034002400240024002402004220720056a22042007490d00200120044d0d03200741016a22042007490d00200420056a22082004490d00200120086b220820014b0d00200120084d0d00200a41016a2206200a490d002006200520066a22064b0d00200120066b220620014b0d00200120064d0d0002400240200020086a2d00002208200020066a2d000022064b2003710d00200620084d200372450d0020062008460d0141012109410021052007210a0c040b200541016a22042005490d01200420076a22042007490d012004200a6b220920044b0d010c020b2005200541016a22054b0d0020052009470440200721040c030b200720096a220420074f0d010b000b410021050b20022009470d010b0b200a0b2b01017e034020010440200141016b210142012000310000862002842102200041016a21000c010b0b20020bdb0301067f230041306b22022400200241206a2000410c6a2204101a20022802242205280200220141016b220320014e21060240024002400240024020022802202d00042201410247044020060d05200520033602002001450d04200241186a210120042802000440000b2004417f360200200120043602042001200441046a360200200228021c2105200228021822012d00044102460440000b20012802002201410020012802001b2203450d0341b882c000410036020020002802082106200028020021012003280200210020032802082203413f4d04402003410274101b0c030b200341ffff004d0440200220034102744101723b012e2002412e6a4102101c0c030b200341ffffffff034b0d012003410274410272101d0c020b20060d04200520033602000c030b4103101b2003101d0b20002003101c200241106a41b882c000280200101e200120062002280210200228021410000b2005280200220141016a22002001480d0120052000360200200241086a210020042802000440000b2004417f360200200020043602042000200441046a360200200228020c2101200228020822002d00044102470440200041003a00040b2001280200220441016a22002004480d01200120003602000b200241306a24000f0b000b2d01017f200128020041016a220241004c0440000b20012002360200200020013602042000200141046a3602000b2401017f230041106b22012400200120003a000f2001410f6a4101101c200141106a24000b7101037f230041106b220224000240024041b882c000280200220320016a22042003490d002004418080014b0d00200241086a2003200410212002280208200228020c20002001101241b882c000280200220020016a220120004f0d010b000b41b882c0002001360200200241106a24000b2401017f230041106b220124002001200036020c2001410c6a4104101c200141106a24000b4b01027f230041106b22022400200241086a21032001418080014b0440000b20032001360204200341bc82c000360200200020022802083602002000200228020c360204200241106a24000b260020001020200041106a22002d00044102460440000b20002802002200410020002802001b0bc70202057f017e230041406a22012400200141206a2000410c6a2204101a024020012802242202280200220341016b220520034e0d0020012802202d000420022005360200410246044020002802082103200028020041002102200141186a410041b882c0002802001021200320012802181001220004402000418180014f0d0241b882c0002000360200200141106a2000101e200141086a210220012802102103200020012802144b0440000b200220003602042002200336020020012001290308370338200141286a200141386a1022200129022c2106200128022821020b200422002802000440000b2000417f360200200120003602042001200041046a3602002001280204210020012802002001200637022c20012002360228200141286a10232000280200220441016a22022004480d01200020023602000b200141406b24000f0b000b3d01017f0240200120024d04402002418080014d04402002200220016b2203490d02200020033602042000200141bc82c0006a3602000f0b000b000b000b8a0902087f037e230041206b22032400200341003a00080240024002400240027e0240024002402001200341086a4101102b0d00024020032d0008220241037122044103470440024002400240200441016b0e020201000b200241027621020c030b200320023a000d200341013a000c200320013602082003410036021c200341086a2003411c6a4104102c0d03200328021c220241ffff034d0d03200241027621020c020b200320023a000d200341013a000c20032001360208200341003b011c200341086a2003411c6a4102102c0d0220032f011c220241ff014d0d02200241027621020c010b200241044f0d01200341003602082001200341086a4104102b0d012003280208220241ffffffff034d0d010b20012802042002490d00200341086a2002102a2001200328020822042003280210102b0440200341086a10070c010b4100200329020c220c422088a7220541076b2201200120054b1b2109200441036a417c7120046b2108410021010340200120054f0d07024002400240200120046a2d00002206411874411875220741004e04402008417f460d03200820016b4103710d030340200120094f0d03200120046a220241046a280200200228020072418081828478710d032001200141086a22014d0d000b0c010b42808080808020210a428080808010210b024002400240024002402006418080406b2d000041026b0e030002010e0b200141016a22022005490d024200210a0c0c0b4200210a200141016a220220054f0d0b200220046a2d000021020240024002400240200641f0016b0e050100000002000b200241bf014b0d0c2007410f6a41ff017141024b0d0c200241187441187541004e0d0c0c020b200241f0006a41ff017141304f0d0b0c010b2002411874411875417f4a0d0a2002418f014b0d0a0b200141026a220220054f0d0b200220046a2d000041c00171418001470d084200210b200141036a220220054f0d0c200220046a2d000041c00171418001460d02428080808080e0000c0a0b4200210a200141016a220220054f0d0a200220046a2d00002102024002400240200641e001470440200641ed01460d012007411f6a41ff0171410c490d02200241bf014b0d0c200741fe017141ee01470d0c200241187441187541004e0d0c0c030b200241e0017141a001470d0b0c020b2002411874411875417f4a0d0a200241a0014f0d0a0c010b2002411874411875417f4a0d09200241bf014b0d090b4200210b200141026a220220054f0d0b200220046a2d000041c00171418001470d070c010b200220046a2d000041c00171418001470d0a0b200241016a21010c030b000b20012005200120054b1b2102034020012002460440200221010c030b200120046a2c00004100480d02200141016a21010c000b000b200141016a21010c000b000b200041003602000c060b428080808080c0000c010b428080808080200b210a428080808010210b0c010b4200210b0b2001ad200a200b8484210a0b200120054f04402000200c370204200020043602000c010b2003200a3702142003200c37020c20032004360208200341086a1007200041003602000b200341206a24000ba00101027f230041106b220324000240024020002d00044102460440410c4104100e2202450d02200041003a00042000200236020020022001290200370200200241086a200141086a2802003602000c010b200341086a2202200141086a28020036020020032001290200370300200028020022002802000440200010070b20002003290300370200200041086a20022802003602000b200341106a24000f0b000b040041000bbd0402057f017e230041a0016b22002400200041186a100a200041306a4100102602400240024020002d0030450440200041d0006a2000413c6a29020037030020002000290234370348200041e0006a200041d4006a28020022013602002000200029024c22053703582000200136026c200020053e026820004190016a200041e8006a1022200028029001450d02200041f8006a20004198016a28020022013602002000200029039001220537037020004188016a200136020020002005370380010240200041186a101f450440200041106a2103200041246a220122022802000440000b2002417f360200200320023602042003200241046a36020020002802142102200028021020004198016a200041f8006a280200360200200020002903703703900120004190016a10232002280200220341016a22042003480d0520022004360200200041086a210220012802000440000b2001417f360200200220013602042002200141046a360200200028020c2101200028020822022d00044102470440200241013a00040b2001280200220241016a22032002480d05200120033602000c010b20004180016a10070b200041186a1019200041d8006a10070c010b200041c8006a419e82c00041141011200041c8006a1027200041c8006a10070b200041186a10072000412c6a2d0000410247044020002802282201280200047f2001100720002802280520010b410c10080b200041a0016a24000f0b230041106b220124002001419082c000410e10112001102720011007000b000b970201027f230041306b22022400024002401004220341034b0d002001450d0020004181083b01000c010b20022003102a2002280200220310052000027f02402001044020022002280208220136021420022003360210024020014104490d002002410036021c200241106a2002411c6a4104102b0d00200241206a2002280214102a200241106a200228022022012002280228102b450d02200241206a10070b200041003a000141010c020b200041003a0000200041046a4100360200200041086a2002290300370200200041106a200241086a2802003602000c020b200228021c21032000410c6a2002290224370200200041086a2001360200200041046a200336020041000b3a0000200210070b200241306a24000b2a01017f230041106b2201240020012000102920012802002001280208100320011007200141106a24000b870b02087f017e230041f0016b22002400200041406b100a200041b0016a410110260240024002400240024020002d00b0014101470440200041e0006a200041c0016a28020022023602002000200041b8016a290300220837035820002802b4012101200041f0006a200236020020002008370368027f0240200141c4a58a987e4704400240200141ed9899e703470440200141cea6a3f405470d012000200028027036027c20002000280268360278200041a0016a200041f8006a102220002802a001450d0320004188016a200041a8016a280200360200200020002903a00137038001200041406b1020200041d4006a2d00004102460d09200041013a0054200041d0006a2802002201280200450d0920011007200141086a20004188016a2802003602002001200029038001370200200041406b101941030c040b200041406b101f2201450d0820012802002102200041086a200128020822014100100b2000200028020c360294012000200028020822053602900120052002200110322000200136029801200041b0016a20004190016a102920002802b00120002802b8011002200041b0016a100720004190016a100741030c030b200041e8006a1007200041406b1006418082c0002102411021010c050b2000200028027036027c20002000280268360278200041a0016a200041f8006a102220002802a001450d0020004188016a200041a8016a22012802002203360200200020002903a00122083703800120012003360200200020083703a0012008a72106027f20030440200041386a2006200341001014200028023c20002802382101200041306a20062003410110142000280234200041286a20062003200120002802302204200120044b22041b2201101520041b220420016a22072004490d08200028022c210220002802282105200041206a20042007200620031016027f200028022021072000280224200246047f2005200720021034450541000b450440200320016b220220034b0d0a20012002200120024b1b220241016a22042002490d0a417f2105200620031018210820012102417f0c010b410021052003200620032004410010172202200620032004410110172207200220074b1b6b220220034b0d09200041186a20062003200410152000280218200028021c1018210820030b2107200041ec016a2003360200200041e4016a4100360200200041d8016a2007360200200041d4016a2005360200200041cc016a4200370200200041c8016a2004360200200041c4016a2002360200200041c0016a2001360200200041b8016a2008370300200020063602e801200041b482c0003602e001200041013602b0012008422088a7210120030c010b200041ec016a4100360200200041e4016a4100360200200041bc016a4181023b0100200041b8016a4100360200200020063602e801200041b482c0003602e001200042003703b0014101210141000b2102024020030440200041b8016a2101200041d4016a280200417f47044020004190016a2001200210090c020b20004190016a2001200210090c010b20002802b40122020d08200141ff0171044020004198016a2002360200200020023602940120004101360290010c010b20004100360290010b2000280290012101200041a0016a1007200041106a41014100100b200041003602b801200020002903103703b001200020013a009001200041b0016a20004190016a4101101020002802b00120002802b8011002200041b0016a100741030c010b41010b2105200041e8006a1007200041406b1006418082c0002102411021010240200541016b0e03000204030b419082c0002102410e21010c020b200041406b10060b419e82c0002102411421010b200041b0016a200220011011200041b0016a1027200041b0016a10070b200041f0016a24000f0b000b20021013000bb70102037f017e230041106b22032400024002402001280208220241046a220420024f044020012802002101200320044100100b2003290300210520004100360208200020053702002002413f4d044020002002410274102d0c030b200241ffff004d0440200320024102744101723b010e20002003410e6a410210100c030b200241ffffffff034b0d0120024102744102722000102e0c020b000b20004103102d20022000102e0b2000200120021010200341106a24000b3602017f017e230041106b22022400200241086a20014101100b200229030821032000200136020820002003370200200241106a24000b3901027f2000280204220320024922044504402001200220002802002201200210122000200320026b3602042000200120026a3602000b20040b4201017f20002f01042103200041003a00042003410171450440200028020020012002102b0f0b200120034108763a00002000280200200141016a200241016b102b0b2601017f230041106b22022400200220013a000f20002002410f6a41011010200241106a24000b2601017f230041106b220224002002200036020c20012002410c6a41041010200241106a24000bd20101017f0240200141ffffffff03712001470d002002200241406b22034b0d00200341ffffffff01712003470d002001410274220120034103742202200120024b1b220241086a22012002490d00027f024020012001418080046a22024d0440200241016b220120024d0d010b000b2001411076220240002201417f4604404100210141010c010b200141ffff03712001470d012002411074220241086b20024b0d012001411074220142003702042001200120026a41027236020041000b210220002001360204200020023602000f0b000baf04010a7f20004102742106410020016b2108200041ffffffff03712000472109200141016b220a20014b210b20022802002100024003402000450d01200021010240034002402001280208220041017145044020090d032001280200417c712203200141086a22056b220420034b0d0320042006490d01200320066b220c20034b0d03200b0d03200541086a22042005490d032004200441406b22044b0d03024020042008200c7122044b04402005200a710d0320022000417c7136020020012001280200410172360200200121000c010b200441086b220020044b0d04200320006b220220034b0d04200241086b20024b0d04200041003602082000420037020020002001280200417c71360200024020012802002202417c712203450d004100200320024102711b2202450d00200220022802044103712000723602040b2000200028020441037120017236020420012001280208417e71360208200120012802002202410371200072220336020002402002410271450440200028020021010c010b20012003417d713602002000200028020041027222013602000b200020014101723602000b200041086a21070c050b20012000417e71360208027f41002001280204417c712200450d001a4100200020002d00004101711b0b21002001103120012d00004102710440200020002802004102723602000b200220003602002000280200417c71220120006b41086b20014b0d02200021010c010b0b200220003602000c010b0b000b20070b7d01027f024020002802002201417c712202450d004100200220014102711b2201450d00200120012802044103712000280204417c71723602040b200020002802042201417c712202047f200220022802004103712000280200417c717236020020002802040520010b410371360204200020002802004103713602000b2801017f034020022003470440200020036a200120036a2d00003a0000200341016a21030c010b0b0b2201017f034020012002470440200020026a41003a0000200241016a21020c010b0b0b3f01027f0340200245044041000f0b200241016b210220012d0000210320002d00002104200041016a2100200141016a210120032004460d000b200420036b0b0bff010300418080c0000b800101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010041c281c0000b3302020202020202020202020202020202020202020202020202020202020203030303030303030303030303030303040404040400418082c0000b32756e6b6e6f776e2073656c6563746f72696e76616c696420706172616d73636f756c64206e6f74207265616420696e70757400fd01046e616d6501f50135000966696d706f72742430010966696d706f72742431020966696d706f72742432030966696d706f72742433040966696d706f72742434050966696d706f727424350601300701310801320901330a01340b01350c01360d01370e01380f0139100231301102313112023132130231341402313715023138160231391702323218023233190232341a0232351b0232381c0232391d0233301e0233311f023332200233332102333422023336230233372402333825023339260234302702343128023435290234362a0234372b0234382c0234392d0235302e0235312f0235343002353531023536320235373302353834023539";
};
BOOST_FIXTURE_TEST_SUITE(precompiledDeployWasmTest, DeployWasmPrecompiledFixture)

BOOST_AUTO_TEST_CASE(testDeploy)
{
    setIsWasm(true);
    deployWasmPrecompiled = std::make_shared<DeployWasmPrecompiled>(hashImpl);
    //    std::ifstream infs("");
   //    std::stringstream ss;
   //    ss << infs.rdbuf();
   //    std::string s (ss.str());
   //    bytes c = asBytes(s);
   //    auto sss = toHexString(c);
    bytes code, param;
    std::string s_hello = "hello";
    param = codec->encode(s_hello);
    code = *fromHexString(hello);
    std::string deployPath = "/user/bin/HelloWorld";
    std::string jsonABI = "{}";
    bytes in = codec->encodeWithSig(
        "deployWasm(bytes,bytes,string,string)", code, param, deployPath, jsonABI);
    auto callResult = deployWasmPrecompiled->call(context, bytesConstRef(&in), "", "", gas);
    bytes out = callResult->execResult();
    s256 result;

    codec->decode(&out, result);
    BOOST_CHECK(result == s256((int)CODE_SUCCESS));

    // exist path
    in = codec->encodeWithSig(
        "deployWasm(bytes,bytes,string,string)", code, param, deployPath, jsonABI);
    BOOST_CHECK_THROW(
       deployWasmPrecompiled->call(context, bytesConstRef(&in), "", "", gas), PrecompiledError);

    auto keyPair = cryptoSuite->signatureImpl()->generateKeyPair();
    auto input = hashImpl->hash(std::string("get()")).ref().getCroppedData(0,4).toBytes();
    auto tx =
        fakeTransaction(cryptoSuite, keyPair, "/user/bin/HelloWorld", input, 101, 100001, "1", "1");
    auto executive = std::make_shared<TransactionExecutive>(context);
    auto receipt = executor->executeTransaction(tx, executive);
}

BOOST_AUTO_TEST_CASE(testGMDeploy)
{
#if 0
    setSM(true);
    deployWasmPrecompiled = std::make_shared<DeployWasmPrecompiled>(smHashImpl);

    BOOST_CHECK(deployWasmPrecompiled->toString() == "DeployWasm");

    bytes code, param;
    code = *fromHexString(hello_gm);
    std::string deployPath = "/user/bin/HelloWorld";
    std::string jsonABI = "{}";
    bytes in = codec->encodeWithSig(
        "deployWasm(bytes,bytes,string,string)", code, param, deployPath, jsonABI);
    auto callResult = deployWasmPrecompiled->call(context, bytesConstRef(&in), "", "", gas);
    bytes out = callResult->execResult();
    s256 result;

    codec->decode(&out, result);
    BOOST_CHECK(result == s256((int)CODE_SUCCESS));

    // exist path
    in = codec->encodeWithSig(
        "deployWasm(bytes,bytes,string,string)", code, param, deployPath, jsonABI);
    BOOST_CHECK_THROW(
        deployWasmPrecompiled->call(context, bytesConstRef(&in), "", "", gas), PrecompiledError);

    auto keyPair = smCryptoSuite->signatureImpl()->generateKeyPair();
    auto input = smHashImpl->hash(std::string("get")).ref().getCroppedData(0,4).toBytes();
    auto tx = fakeTransaction(smCryptoSuite, keyPair, "/user/bin/HelloWorld", input, 101, 100001, "1", "1");
    auto executive = std::make_shared<TransactionExecutive>(context);
    auto receipt = executor->executeTransaction(tx, executive);
#endif
}

BOOST_AUTO_TEST_SUITE_END()
}  // namespace bcos::test
